package chat;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.BorderLayout;
import java.awt.Container;

import javax.swing.*;
import java.io.*;

public class ServerGUI extends JFrame implements ActionListener {

	private JTextArea textArea = new JTextArea(40, 25);
	private JTextField textField = new JTextField(25);
	
	private ServerBackground server = new ServerBackground();
	
	public ServerGUI() throws IOException { // constructor
		setTitle("Server");
		setDefaultCloseOperation(EXIT_ON_CLOSE);
		Container c = getContentPane();
		c.setLayout(new FlowLayout());
		
		c.add(textArea, BorderLayout.CENTER);
        c.add(textField, BorderLayout.SOUTH);
        textField.addActionListener(this);
 
        server.setGUI(this);
        server.init();
        
        setVisible(true);
        setBounds(200, 100, 400, 600);
	}
	
	public void appendMessage(String msg) { // append
		textArea.append(msg);
	}
	
	@Override
	public void actionPerformed(ActionEvent e) { // event
		String msg = "Server : "+ textField.getText() + "\n";
        System.out.print(msg);
        server.sendMessage(msg);
        textField.setText(""); // reset
	}
	
	public static void main(String[] args) throws IOException {
		
		new ServerGUI();
	}
}
