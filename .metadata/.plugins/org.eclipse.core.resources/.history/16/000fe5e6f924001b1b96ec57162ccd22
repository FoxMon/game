package client;

import java.awt.*;
import javax.swing.*;
import multi.*;
import clientPannel.*;

public class ClientUI extends JFrame {

	public SignUpPanel pnSignup;
	public LoginPanel pnLogin;
	public ClientNetwork net = new ClientNetwork(this);
	
	public String ip;
	
	public ClientUI(String ip) {
		this.ip = ip;
		
		setUIComponent();
		addListeners();
	}
	
	private void addListeners() {
		// listner event
		// 회원가입 패널로 이동하기 위한 리스너 호출 =============
        ActionListener bsh = new BtSingnUpHandler(this);
        pnLogin.btsign.addActionListener(bsh);
        // ====================================================
 
        // 회원가입 완료되었을 때 리스너 호출 ====================
        ActionListener bsfh = new BtSignupFinishHandler(this);
        pnSignup.btCreate.addActionListener(bsfh);
        // ====================================================
 
        // 회원가입 패널에서 취소 버튼 클릭시 리스너 호출 =========
        ActionListener bch = new BtSignUpCancelHandler(this);
        pnSignup.btCancel.addActionListener(bch);
        // ====================================================
	}
	
	private void setUIComponent() {
        setTitle("RhythmGame");
        
        Thread t = new Thread(new Runnable() {
            @Override
            public void run() {
                int rand = (int)(Math.random()*8) *30;
                
                setLocation(300 + rand, 200+ rand);
                setSize(496, 748);
                
                WelcomPanel w = new WelcomPanel();
                setLocationRelativeTo(null);
                System.out.println(w);
                setVisible(true);
                setContentPane(w);
                System.out.println("w 호출");
            }
        });
        t.start();
        try {
            Thread.sleep(1500);
        }catch(Exception e) {
            
        }
        setTitle("Drop the beat!! - Login");
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setResizable(false);
        setSize(496, 748);
        pnLogin = new LoginPanel();
        setContentPane(pnLogin);
	}
}
